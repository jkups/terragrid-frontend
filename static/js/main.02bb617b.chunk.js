(this["webpackJsonpterragrid-frontend"]=this["webpackJsonpterragrid-frontend"]||[]).push([[0],{117:function(e,t,s){"use strict";s.r(t);var c=s(0),n=s(1),i=s.n(n),r=s(19),a=s.n(r),l=(s(59),s(4)),j=s(52),o=s(7),d=s(6),b=s.n(d),u=s(5),h=function(e){var t=Object(n.useState)(""),s=Object(u.a)(t,2),i=s[0],r=s[1],a=Object(n.useState)(""),l=Object(u.a)(a,2),j=l[0],o=l[1];return Object(c.jsx)("div",{children:Object(c.jsx)("div",{children:Object(c.jsxs)("form",{onSubmit:function(t){t.preventDefault(),b.a.post("".concat("https://terragrid.herokuapp.com","/login"),{email:i,password:j}).then((function(t){t.data.success&&(sessionStorage.setItem("token",JSON.stringify(t.data.token)),sessionStorage.setItem("user",JSON.stringify(t.data.user)),b.a.defaults.headers.common.Authorization="Bearer ".concat(t.data.token),e.history.push("/maps"))})).catch(console.error)},children:[Object(c.jsx)("input",{type:"email",name:"email",onChange:function(e){return r(e.target.value)},required:!0}),Object(c.jsx)("input",{type:"password",name:"password",onChange:function(e){return o(e.target.value)},required:!0}),Object(c.jsx)("button",{children:"Login"})]})})})},O=s(23),x=s.n(O),p=s(33),m=(s(46),function(e){var t=JSON.parse(sessionStorage.getItem("user")),s=Object(n.useState)(!1),i=Object(u.a)(s,2),r=i[0],a=i[1];return Object(c.jsxs)("div",{className:"navbar",children:[e.onMapMenu?Object(c.jsxs)("div",{className:"menu collapsed",children:[Object(c.jsx)("span",{children:"MENU"}),Object(c.jsx)("div",{className:"menu-items",children:e.journeys.map((function(t,s){return Object(c.jsxs)("div",{className:"item",children:[Object(c.jsxs)("div",{className:"first",children:[Object(c.jsx)("span",{children:t.vehicle.code}),Object(c.jsx)("input",{id:t._id,type:"checkbox",onClick:e.toggleRoute})]}),Object(c.jsxs)("div",{className:"second",children:[Object(c.jsx)("span",{children:t.status}),Object(c.jsx)("span",{children:"OR"}),Object(c.jsx)("span",{children:"DT"})]})]},s)}))})]}):null,Object(c.jsxs)("div",{className:"settings",children:["driver"!==t.userType?Object(c.jsx)("div",{onClick:e.simulateJourneys,children:"Simulate"}):null,Object(c.jsxs)("div",{onMouseEnter:function(){return a(!0)},onMouseLeave:function(){return a(!1)},children:[Object(c.jsxs)("div",{className:"profile-image",children:[t.firstName," ",t.lastName," O"]}),r?Object(c.jsx)("div",{className:"dropdown-wrapper",children:Object(c.jsxs)("div",{className:"dropdown",children:[Object(c.jsx)("div",{children:"Profile"}),"admin"!==t.userType?null:e.onMapMenu?Object(c.jsx)("div",{onClick:function(){return e.handleUrlRoute("/settings")},children:"Settings"}):Object(c.jsx)("div",{onClick:function(){return e.handleUrlRoute("/maps")},children:"Maps"}),Object(c.jsx)("div",{onClick:function(){sessionStorage.removeItem("token"),sessionStorage.removeItem("user"),b.a.defaults.headers.common.Authorization=void 0,e.history.push("/login")},children:"Logout"})]})}):null]})]})]})}),v=s(10),g=s.n(v),f=(s(79),s(121)),N=s(123),C=s(122);s(81);var y={},k={},w={},S=function(e){var t=Object(n.useState)(null),s=Object(u.a)(t,2),i=s[0],r=s[1],a=Object(n.useState)(null),j=Object(u.a)(a,2),o=(j[0],j[1],Object(n.useState)(null)),d=Object(u.a)(o,2),h=(d[0],d[1],Object(n.useState)([])),O=Object(u.a)(h,2),v=O[0],S=O[1];Object(n.useEffect)((function(){b.a.get("".concat("https://terragrid.herokuapp.com","/journeys")).then((function(e){S(e.data)})).catch(console.error)}),[]);var D=function(){var e=Object(p.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g.a.motion.polyline(t,{color:"transparent"},{auto:!0,duration:1e3},{removeOnEnd:!0,showMarker:!0}).addTo(i);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(e,t){y[t]=e,i.fitBounds(Object.values(y));var s=g.a.Routing.control({router:g.a.Routing.mapbox("pk.eyJ1Ijoiamt1cHMiLCJhIjoiY2tramFsN2EyMDJmNjJwcGVodms0ZDIzeiJ9.g1MbhlX-djVh_CZYt7t-dQ"),waypoints:[e[0],e[1]],containerClassName:"itinerary-wrapper"}).addTo(i);s.on("routeselected",(function(e){k[t]=s,w[t]=e.route.coordinates}))},q=function(e){var t=k[e];delete y[e],delete k[e],delete w[e],t.remove(),Object.keys(y).length>0&&i.fitBounds(Object.values(y))};return Object(c.jsxs)("div",{children:[Object(c.jsx)(m,Object(l.a)(Object(l.a)({},e),{},{journeys:v,toggleRoute:function(e){var t=e.target.id;if(!0===e.target.checked){var s=v.find((function(e){return e._id===t})),c=[[s.originGeoCode.lat,s.originGeoCode.lng],[s.destinationGeoCode.lat,s.destinationGeoCode.lng]];M(c,t)}else q(t)},onMapMenu:!0,handleUrlRoute:function(t){e.history.push(t)},simulateJourneys:function(){var e=Object.values(w);if(e.length>0)for(var t=0;t<e.length;t++)D(e[t])}})),Object(c.jsxs)(f.a,{center:[-37.840935,144.946457],zoomControl:!1,zoom:13,scrollWheelZoom:!1,whenCreated:r,children:[Object(c.jsx)(N.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),Object(c.jsx)(C.a,{position:"bottomright"})]})]})},D=function(e){var t=function(t){e.history.push(t)};return Object(c.jsxs)("div",{children:[Object(c.jsx)(m,{showMapMenu:!1,handleUrlRoute:t}),Object(c.jsxs)("div",{className:"settings-wrapper",children:[Object(c.jsx)("h2",{children:"TerraMap for Logistics Coy."}),Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{children:"Users"}),Object(c.jsx)("div",{onClick:function(){return t("/settings/drivers")},children:"Drivers"}),Object(c.jsx)("div",{onClick:function(){return t("/settings/vehicles")},children:"Vehicles"}),Object(c.jsx)("div",{onClick:function(){return t("/settings/journeys")},children:"Journeys"})]})]})]})},M=function(e){var t=Object(n.useState)([]),s=Object(u.a)(t,2),i=s[0],r=s[1];Object(n.useEffect)((function(){b.a.get("".concat("https://terragrid.herokuapp.com","/drivers")).then((function(e){r(e.data)})).catch(console.error)}),[]);var a=function(t){e.history.push(t)};return Object(c.jsxs)("div",{children:[Object(c.jsx)(m,Object(l.a)(Object(l.a)({},e),{},{onMapMenu:!1,handleUrlRoute:a})),Object(c.jsx)("div",{className:"admin-wrapper",children:Object(c.jsxs)("div",{children:[Object(c.jsxs)("div",{className:"admin-sidebar",children:[Object(c.jsx)("div",{children:"Users"}),Object(c.jsx)("div",{onClick:function(){return a("/settings/drivers")},children:"Drivers"}),Object(c.jsx)("div",{onClick:function(){return a("/settings/vehicles")},children:"Vehicles"}),Object(c.jsx)("div",{onClick:function(){return a("/settings/journeys")},children:"Journeys"})]}),Object(c.jsxs)("div",{className:"admin-list",children:[Object(c.jsx)("div",{children:Object(c.jsx)("button",{onClick:function(){return a("/settings/drivers/new")},children:"Add Driver"})}),Object(c.jsxs)("div",{className:"entity-list",children:[Object(c.jsxs)("ul",{className:"heading",children:[Object(c.jsx)("li",{}),Object(c.jsx)("li",{}),Object(c.jsx)("li",{children:"Full Name"}),Object(c.jsx)("li",{children:"Mobile Number"}),Object(c.jsx)("li",{children:"Email Address"}),Object(c.jsx)("li",{children:"Driver's License"}),Object(c.jsx)("li",{children:"Status"})," ",Object(c.jsx)("li",{children:"Action"})]}),i.map((function(e,t){return Object(c.jsxs)("ul",{className:"entity-row",children:[Object(c.jsx)("li",{children:t+1}),Object(c.jsx)("li",{}),Object(c.jsxs)("li",{children:[e.firstName," ",e.lastName]}),Object(c.jsx)("li",{children:e.mobileNumber}),Object(c.jsx)("li",{children:e.email}),Object(c.jsx)("li",{children:e.licenseNumber}),Object(c.jsx)("li",{children:e.status}),Object(c.jsxs)("li",{children:[Object(c.jsx)("span",{onClick:function(){a("/settings/drivers/".concat(e._id,"/edit"))},children:"Update"}),"\xa0|\xa0",Object(c.jsx)("span",{children:"Delete"})]})]},t)}))]})]})]})})]})},q=s(13),U=function(e){var t=Object(n.useState)(null),s=Object(u.a)(t,2),i=s[0],r=s[1],a=function(t){e.history.push(t)},j=function(e){var t=e.target.name;r((function(s){return Object(l.a)(Object(l.a)({},s),{},Object(q.a)({},t,e.target.value))}))};return Object(c.jsxs)("div",{children:[Object(c.jsx)(m,Object(l.a)(Object(l.a)({},e),{},{onMapMenu:!1,handleUrlRoute:a})),Object(c.jsx)("div",{className:"admin-wrapper",children:Object(c.jsxs)("div",{children:[Object(c.jsxs)("div",{className:"admin-sidebar",children:[Object(c.jsx)("div",{children:"Users"}),Object(c.jsx)("div",{onClick:function(){return a("/settings/drivers")},children:"Drivers"}),Object(c.jsx)("div",{onClick:function(){return a("/settings/vehicles")},children:"Vehicles"}),Object(c.jsx)("div",{onClick:function(){return a("/settings/journeys")},children:"Journeys"})]}),Object(c.jsx)("div",{className:"admin-form",children:Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{className:"heading",children:"New Driver"}),Object(c.jsx)("form",{onSubmit:function(t){t.preventDefault(),b.a.post("".concat("https://terragrid.herokuapp.com","/drivers"),i).then((function(t){t.data.success&&e.history.push("/settings/drivers")})).catch(console.error)},children:Object(c.jsxs)("div",{className:"form-wrapper",children:[Object(c.jsx)("div",{children:Object(c.jsx)("label",{className:"profile-photo",children:Object(c.jsx)("input",{type:"file"})})}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsxs)("label",{children:[Object(c.jsx)("p",{children:"First Name:"}),Object(c.jsx)("input",{name:"firstName",type:"text",placeholder:"First Name",onChange:j,required:!0})]}),Object(c.jsxs)("label",{children:[Object(c.jsx)("p",{children:"Last Name:"}),Object(c.jsx)("input",{name:"lastName",type:"text",placeholder:"Last Name",onChange:j,required:!0})]})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsxs)("label",{children:[Object(c.jsx)("p",{children:"Mobile Number:"}),Object(c.jsx)("input",{name:"mobileNumber",type:"text",placeholder:"Mobile Number",onChange:j,required:!0})]}),Object(c.jsxs)("label",{children:[Object(c.jsx)("p",{children:"Email Address:"}),Object(c.jsx)("input",{name:"email",type:"email",placeholder:"Email Address",onChange:j,required:!0})]})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsxs)("label",{children:[Object(c.jsx)("p",{children:"Drivers License Number:"}),Object(c.jsx)("input",{name:"licenseNumber",type:"text",placeholder:"License Number",onChange:j,required:!0})]}),Object(c.jsxs)("label",{children:[Object(c.jsx)("p",{children:"License Expiry Date:"}),Object(c.jsx)("input",{name:"licenseExpiry",type:"date",placeholder:"Expiry Date",onChange:j,required:!0})]})]}),Object(c.jsx)("div",{className:"form-group",children:Object(c.jsxs)("label",{children:[Object(c.jsx)("p",{children:"Contact Address:"}),Object(c.jsx)("input",{type:"text",placeholder:"Contact address",required:!0})]})}),Object(c.jsx)("div",{className:"button-wrapper",children:Object(c.jsx)("button",{className:"form-button",children:"Save New Driver"})})]})})]})})]})})]})},A="https://terragrid.herokuapp.com",E=function(e){var t=Object(n.useState)(null),s=Object(u.a)(t,2),i=s[0],r=s[1];Object(n.useEffect)((function(){b.a.get("".concat(A,"/drivers/").concat(e.match.params.id)).then((function(e){r(e.data)})).catch(console.error)}),[]);var a=function(t){e.history.push(t)},j=function(e){var t=e.target.name;r((function(s){return Object(l.a)(Object(l.a)({},s),{},Object(q.a)({},t,e.target.value))}))};return Object(c.jsxs)("div",{children:[Object(c.jsx)(m,Object(l.a)(Object(l.a)({},e),{},{onMapMenu:!1,handleUrlRoute:a})),Object(c.jsx)("div",{className:"admin-wrapper",children:Object(c.jsxs)("div",{children:[Object(c.jsxs)("div",{className:"admin-sidebar",children:[Object(c.jsx)("div",{children:"Users"}),Object(c.jsx)("div",{onClick:function(){return a("/settings/drivers")},children:"Drivers"}),Object(c.jsx)("div",{onClick:function(){return a("/settings/vehicles")},children:"Vehicles"}),Object(c.jsx)("div",{onClick:function(){return a("/settings/journeys")},children:"Journeys"})]}),Object(c.jsx)("div",{className:"admin-form",children:null!==i?Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{className:"heading",children:"Update Driver"}),Object(c.jsx)("form",{onSubmit:function(t){t.preventDefault(),b.a.put("".concat(A,"/drivers/").concat(e.match.params.id),i).then((function(t){t.data.success&&e.history.push("/settings/drivers")})).catch(console.error)},children:Object(c.jsxs)("div",{className:"form-wrapper",children:[Object(c.jsx)("div",{children:Object(c.jsx)("label",{className:"profile-photo update",style:{backgroundImage:"url(".concat("https://res.cloudinary.com/dxmmpe1wt/image/upload/v1612076361/","/").concat(i.photoUrl,")"),backgroundSize:"cover"},children:Object(c.jsx)("input",{type:"file"})})}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsxs)("label",{children:[Object(c.jsx)("p",{children:"First Name:"}),Object(c.jsx)("input",{name:"firstName",type:"text",value:i.firstName,placeholder:"First Name",onChange:j,required:!0})]}),Object(c.jsxs)("label",{children:[Object(c.jsx)("p",{children:"Last Name:"}),Object(c.jsx)("input",{name:"lastName",type:"text",value:i.lastName,placeholder:"Last Name",onChange:j,required:!0})]})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsxs)("label",{children:[Object(c.jsx)("p",{children:"Mobile Number:"}),Object(c.jsx)("input",{name:"mobileNumber",type:"text",value:i.mobileNumber,placeholder:"Mobile Number",onChange:j,required:!0})]}),Object(c.jsxs)("label",{children:[Object(c.jsx)("p",{children:"Email Address:"}),Object(c.jsx)("input",{name:"email",type:"email",value:i.email,placeholder:"Email Address",onChange:j,required:!0})]})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsxs)("label",{children:[Object(c.jsx)("p",{children:"Drivers License Number:"}),Object(c.jsx)("input",{name:"licenseNumber",type:"text",value:i.licenseNumber,placeholder:"License Number",onChange:j,required:!0})]}),Object(c.jsxs)("label",{children:[Object(c.jsx)("p",{children:"License Expiry Date:"}),Object(c.jsx)("input",{name:"licenseExpiry",type:"date",value:i.licenseExpiry.split("T")[0],placeholder:"Expiry Date",onChange:j,required:!0})]})]}),Object(c.jsx)("div",{className:"form-group",children:Object(c.jsxs)("label",{children:[Object(c.jsx)("p",{children:"Contact Address:"}),Object(c.jsx)("input",{type:"text",placeholder:"Contact address",required:!0})]})}),Object(c.jsx)("div",{className:"button-wrapper",children:Object(c.jsx)("button",{className:"form-button",children:"Update Driver"})})]})})]}):null})]})})]})},J=function(e){var t=Object(n.useState)([]),s=Object(u.a)(t,2),i=s[0],r=s[1];Object(n.useEffect)((function(){b.a.get("".concat("https://terragrid.herokuapp.com","/vehicles")).then((function(e){r(e.data)})).catch(console.error)}),[]);var a=function(t){e.history.push(t)};return Object(c.jsxs)("div",{children:[Object(c.jsx)(m,Object(l.a)(Object(l.a)({},e),{},{onMapMenu:!1,handleUrlRoute:a})),Object(c.jsx)("div",{className:"admin-wrapper",children:Object(c.jsxs)("div",{children:[Object(c.jsxs)("div",{className:"admin-sidebar",children:[Object(c.jsx)("div",{children:"Users"}),Object(c.jsx)("div",{onClick:function(){return a("/settings/drivers")},children:"Drivers"}),Object(c.jsx)("div",{onClick:function(){return a("/settings/vehicles")},children:"Vehicles"}),Object(c.jsx)("div",{onClick:function(){return a("/settings/journeys")},children:"Journeys"})]}),Object(c.jsxs)("div",{className:"admin-list",children:[Object(c.jsx)("div",{children:Object(c.jsx)("button",{onClick:function(){return a("/settings/vehicles/new")},children:"Add Vehicle"})}),Object(c.jsxs)("div",{className:"entity-list",children:[Object(c.jsxs)("ul",{className:"heading",children:[Object(c.jsx)("li",{}),Object(c.jsx)("li",{}),Object(c.jsx)("li",{children:"ID / Plate Number"}),Object(c.jsx)("li",{children:"Class"}),Object(c.jsx)("li",{children:"Curent Location"}),Object(c.jsx)("li",{children:"Weight  / Volume"}),Object(c.jsx)("li",{children:"Status"}),Object(c.jsx)("li",{children:"Action"})]}),i.map((function(e,t){return Object(c.jsxs)("ul",{className:"entity-row",children:[Object(c.jsx)("li",{children:t+1}),Object(c.jsx)("li",{}),Object(c.jsxs)("li",{children:[e.code," / ",e.plateNumber]}),Object(c.jsx)("li",{children:e.class.split("(")[0]}),Object(c.jsx)("li",{children:e.locationAddress}),Object(c.jsxs)("li",{children:[e.weight," kg / ",e.volume," cubic"]}),Object(c.jsx)("li",{children:e.status}),Object(c.jsxs)("li",{children:[Object(c.jsx)("span",{onClick:function(){a("/settings/vehicles/".concat(e._id,"/edit"))},children:"Update"}),"\xa0|\xa0",Object(c.jsx)("span",{children:"Delete"})]})]},t)}))]})]})]})})]})},V=function(e){var t=Object(n.useState)(null),s=Object(u.a)(t,2),i=s[0],r=s[1],a=Object(n.useState)("Class 1"),j=Object(u.a)(a,1)[0],o=function(t){e.history.push(t)},d=function(e){var t=e.target.name;r((function(s){return Object(l.a)(Object(l.a)({},s),{},Object(q.a)({},t,e.target.value))}))};return Object(c.jsxs)("div",{children:[Object(c.jsx)(m,Object(l.a)(Object(l.a)({},e),{},{onMapMenu:!1,handleUrlRoute:o})),Object(c.jsx)("div",{className:"admin-wrapper",children:Object(c.jsxs)("div",{children:[Object(c.jsxs)("div",{className:"admin-sidebar",children:[Object(c.jsx)("div",{children:"Users"}),Object(c.jsx)("div",{onClick:function(){return o("/settings/drivers")},children:"Drivers"}),Object(c.jsx)("div",{onClick:function(){return o("/settings/vehicles")},children:"Vehicles"}),Object(c.jsx)("div",{onClick:function(){return o("/settings/journeys")},children:"Journeys"})]}),Object(c.jsx)("div",{className:"admin-form",children:Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{className:"heading",children:"New Vehicle"}),Object(c.jsx)("form",{onSubmit:function(t){t.preventDefault(),i.class||(i.class=j),b.a.post("".concat("https://terragrid.herokuapp.com","/vehicles"),i).then((function(t){t.data.success&&e.history.push("/settings/vehicles")})).catch(console.error)},children:Object(c.jsxs)("div",{className:"form-wrapper",children:[Object(c.jsx)("div",{children:Object(c.jsx)("label",{className:"profile-photo",children:Object(c.jsx)("input",{type:"file"})})}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsxs)("label",{children:[Object(c.jsx)("p",{children:"ID Number / Code:"}),Object(c.jsx)("input",{name:"code",type:"text",placeholder:"Id Number",onChange:d,required:!0})]}),Object(c.jsxs)("label",{children:[Object(c.jsx)("p",{children:"Plate Number:"}),Object(c.jsx)("input",{name:"plateNumber",type:"text",placeholder:"Plate Number",onChange:d,required:!0})]})]}),Object(c.jsx)("div",{className:"form-group",children:Object(c.jsxs)("label",{children:[Object(c.jsx)("p",{children:"Vechle Class:"}),Object(c.jsxs)("select",{name:"class",onChange:d,required:!0,children:[Object(c.jsx)("option",{value:"Class 1",children:"Class 1 (Motorcycle)"}),Object(c.jsx)("option",{vaue:"Class 2",children:"Class 2 (Passenger car)"}),Object(c.jsx)("option",{vaue:"Class 3",children:"Class 3 (4 tire, single unit)"}),Object(c.jsx)("option",{vaue:"Class 4",children:"Class 4 (Bus)"}),Object(c.jsx)("option",{vaue:"Class 5",children:"Class 5 (2 axle, 6 tire, single unit)"}),Object(c.jsx)("option",{vaue:"Class 6",children:"Class 6 (3 axle, single unit)"}),Object(c.jsx)("option",{vaue:"Class 7",children:"Class 7 (4 or more axle, single unit)"}),Object(c.jsx)("option",{vaue:"Class 8",children:"Class 8 (4 or less axle, single trailer)"}),Object(c.jsx)("option",{vaue:"Class 9",children:"Class 9 (5 axle tractor semitrailer)"}),Object(c.jsx)("option",{vaue:"Class 10",children:"Class 10 (6 or more axle, single trailer)"}),Object(c.jsx)("option",{vaue:"Class 11",children:"Class 11 (5 or less axle, multi-trailer )"}),Object(c.jsx)("option",{vaue:"Class 12",children:"Class 12 (6 axle, multi-trailer)"}),Object(c.jsx)("option",{vaue:"Class 13",children:"Class 13 (7 or more axle, multi-trailer)"})]})]})}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsxs)("label",{children:[Object(c.jsx)("p",{children:"Weight (kg)"}),Object(c.jsx)("input",{name:"weight",type:"text",placeholder:"Weight",onChange:d,required:!0})]}),Object(c.jsxs)("label",{children:[Object(c.jsx)("p",{children:"Volume (cubic meter)"}),Object(c.jsx)("input",{name:"volume",type:"text",placeholder:"Volume",onChange:d,required:!0})]})]}),Object(c.jsx)("div",{className:"form-group",children:Object(c.jsxs)("label",{children:[Object(c.jsx)("p",{children:"Parking Address:"}),Object(c.jsx)("input",{name:"homeAddress",type:"text",placeholder:"Enter address",onChange:d,required:!0})]})}),Object(c.jsx)("div",{className:"button-wrapper",children:Object(c.jsx)("button",{className:"form-button",children:"Save New Vehicle"})})]})})]})})]})})]})},I="https://terragrid.herokuapp.com",L=function(e){var t=Object(n.useState)(null),s=Object(u.a)(t,2),i=s[0],r=s[1];Object(n.useEffect)((function(){b.a.get("".concat(I,"/vehicles/").concat(e.match.params.id)).then((function(e){r(e.data)})).catch(console.error)}),[]);var a=function(t){e.history.push(t)},j=function(e){var t=e.target.name;r((function(s){return Object(l.a)(Object(l.a)({},s),{},Object(q.a)({},t,e.target.value))}))};return Object(c.jsxs)("div",{children:[Object(c.jsx)(m,Object(l.a)(Object(l.a)({},e),{},{onMapMenu:!1,handleUrlRoute:a})),Object(c.jsx)("div",{className:"admin-wrapper",children:Object(c.jsxs)("div",{children:[Object(c.jsxs)("div",{className:"admin-sidebar",children:[Object(c.jsx)("div",{children:"Users"}),Object(c.jsx)("div",{onClick:function(){return a("/settings/drivers")},children:"Drivers"}),Object(c.jsx)("div",{onClick:function(){return a("/settings/vehicles")},children:"Vehicles"}),Object(c.jsx)("div",{onClick:function(){return a("/settings/journeys")},children:"Journeys"})]}),Object(c.jsx)("div",{className:"admin-form",children:null!==i?Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{className:"heading",children:"New Vehicle"}),Object(c.jsx)("form",{onSubmit:function(t){t.preventDefault(),b.a.put("".concat(I,"/vehicles/").concat(e.match.params.id),i).then((function(t){t.data.success&&e.history.push("/settings/vehicles")})).catch(console.error)},children:Object(c.jsxs)("div",{className:"form-wrapper",children:[Object(c.jsx)("div",{children:Object(c.jsx)("label",{className:"profile-photo update",children:Object(c.jsx)("input",{type:"file"})})}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsxs)("label",{children:[Object(c.jsx)("p",{children:"ID Number / Code:"}),Object(c.jsx)("input",{name:"code",value:i.code,type:"text",placeholder:"Id Number",onChange:j,required:!0})]}),Object(c.jsxs)("label",{children:[Object(c.jsx)("p",{children:"Plate Number:"}),Object(c.jsx)("input",{name:"plateNumber",value:i.plateNumber,type:"text",placeholder:"Plate Number",onChange:j,required:!0})]})]}),Object(c.jsx)("div",{className:"form-group",children:Object(c.jsxs)("label",{children:[Object(c.jsx)("p",{children:"Vechle Class:"}),Object(c.jsxs)("select",{name:"class",value:i.class,onChange:j,required:!0,children:[Object(c.jsx)("option",{value:"Class 1",children:"Class 1 (Motorcycle)"}),Object(c.jsx)("option",{vaue:"Class 2",children:"Class 2 (Passenger car)"}),Object(c.jsx)("option",{vaue:"Class 3",children:"Class 3 (4 tire, single unit)"}),Object(c.jsx)("option",{vaue:"Class 4",children:"Class 4 (Bus)"}),Object(c.jsx)("option",{vaue:"Class 5",children:"Class 5 (2 axle, 6 tire, single unit)"}),Object(c.jsx)("option",{vaue:"Class 6",children:"Class 6 (3 axle, single unit)"}),Object(c.jsx)("option",{vaue:"Class 7",children:"Class 7 (4 or more axle, single unit)"}),Object(c.jsx)("option",{vaue:"Class 8",children:"Class 8 (4 or less axle, single trailer)"}),Object(c.jsx)("option",{vaue:"Class 9",children:"Class 9 (5 axle tractor semitrailer)"}),Object(c.jsx)("option",{vaue:"Class 10",children:"Class 10 (6 or more axle, single trailer)"}),Object(c.jsx)("option",{vaue:"Class 11",children:"Class 11 (5 or less axle, multi-trailer )"}),Object(c.jsx)("option",{vaue:"Class 12",children:"Class 12 (6 axle, multi-trailer)"}),Object(c.jsx)("option",{vaue:"Class 13",children:"Class 13 (7 or more axle, multi-trailer)"})]})]})}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsxs)("label",{children:[Object(c.jsx)("p",{children:"Weight (kg)"}),Object(c.jsx)("input",{name:"weight",value:i.weight,type:"text",placeholder:"Weight",onChange:j,required:!0})]}),Object(c.jsxs)("label",{children:[Object(c.jsx)("p",{children:"Volume (cubic meter)"}),Object(c.jsx)("input",{name:"volume",value:i.volume,type:"text",placeholder:"Volume",onChange:j,required:!0})]})]}),Object(c.jsx)("div",{className:"form-group",children:Object(c.jsxs)("label",{children:[Object(c.jsx)("p",{children:"Parking Address:"}),Object(c.jsx)("input",{name:"homeAddress",value:i.homeAddress,type:"text",placeholder:"Enter address",onChange:j,required:!0})]})}),Object(c.jsx)("div",{className:"button-wrapper",children:Object(c.jsx)("button",{className:"form-button",children:"Update Vehicle"})})]})})]}):null})]})})]})},R="https://terragrid.herokuapp.com",P=function(e){var t=Object(n.useState)([]),s=Object(u.a)(t,2),i=s[0],r=s[1],a=Object(n.useState)([]),j=Object(u.a)(a,2),o=j[0],d=j[1],h=Object(n.useState)(!1),O=Object(u.a)(h,2),x=O[0],p=O[1],v=Object(n.useState)(""),g=Object(u.a)(v,2),f=g[0],N=g[1];Object(n.useEffect)((function(){b.a.get("".concat(R,"/vehicles")).then((function(e){var t=e.data.map((function(e){return{id:e._id,code:e.code,plateNumber:e.plateNumber,imageUrl:e.imageUrl}}));r(t)})).catch(console.error)}),[]);var C=function(t){e.history.push(t)};return Object(c.jsxs)("div",{children:[Object(c.jsx)(m,Object(l.a)(Object(l.a)({},e),{},{onMapMenu:!1,handleUrlRoute:C})),Object(c.jsx)("div",{className:"admin-wrapper",children:Object(c.jsxs)("div",{children:[Object(c.jsxs)("div",{className:"admin-sidebar",children:[Object(c.jsx)("div",{children:"Users"}),Object(c.jsx)("div",{onClick:function(){return C("/settings/drivers")},children:"Drivers"}),Object(c.jsx)("div",{onClick:function(){return C("/settings/vehicles")},children:"Vehicles"}),Object(c.jsx)("div",{onClick:function(){return C("/settings/journeys")},children:"Journeys"})]}),Object(c.jsxs)("div",{className:"admin-list",children:[Object(c.jsxs)("div",{children:[Object(c.jsxs)("select",{onChange:function(e){var t=e.target.value;"none"!==t?b.a.get("".concat(R,"/journeys/vehicle/").concat(t)).then((function(e){d(e.data),p(!0),N(t)})).catch(console.error):(d([]),p(!1),N(""))},className:"standard",children:[Object(c.jsx)("option",{value:"none",children:"Select a vehicle"}),i.map((function(e,t){return Object(c.jsxs)("option",{value:e.id,children:[e.code," / ",e.plateNumber]},t)}))]}),Object(c.jsx)("button",{onClick:function(){return C("/settings/journeys/vehicle/".concat(f,"/new"))},disabled:!x,children:"Add a Journey"})]}),Object(c.jsxs)("div",{className:"entity-list",children:[Object(c.jsxs)("ul",{className:"heading",children:[Object(c.jsx)("li",{}),Object(c.jsx)("li",{children:"Origin"}),Object(c.jsx)("li",{children:"Destination"}),Object(c.jsx)("li",{children:"Duration"}),Object(c.jsx)("li",{children:"Instruction"}),Object(c.jsx)("li",{children:"Driver Assigned"}),Object(c.jsx)("li",{children:"Status"}),Object(c.jsx)("li",{children:"Action"})]}),o.map((function(e,t){return Object(c.jsxs)("ul",{children:[Object(c.jsx)("li",{children:t+1}),Object(c.jsx)("li",{children:e.origin}),Object(c.jsx)("li",{children:e.destination}),Object(c.jsx)("li",{}),Object(c.jsx)("li",{children:e.instruction}),Object(c.jsxs)("li",{children:[e.driver.firstName," ",e.driver.lastName]}),Object(c.jsx)("li",{children:e.status}),Object(c.jsx)("li",{children:"action"})]},t)}))]})]})]})})]})},F=s(51),T=s.n(F),B="https://terragrid.herokuapp.com",z=function(e){var t=Object(n.useState)(null),s=Object(u.a)(t,2),i=s[0],r=s[1],a=Object(n.useState)({}),j=Object(u.a)(a,2),o=j[0],d=j[1],h=Object(n.useState)(new Date),O=Object(u.a)(h,2),x=O[0],p=O[1];Object(n.useEffect)((function(){b.a.get("".concat(B,"/vehicles/").concat(e.match.params.id)).then((function(e){d(e.data)})).catch(console.error)}),[]);var v=function(e){var t=e.target.name;r((function(s){return Object(l.a)(Object(l.a)({},s),{},Object(q.a)({},t,e.target.value))}))},g=function(t){e.history.push(t)};return Object(c.jsxs)("div",{children:[Object(c.jsx)(m,Object(l.a)(Object(l.a)({},e),{},{onMapMenu:!1,handleUrlRoute:g})),Object(c.jsx)("div",{className:"admin-wrapper",children:Object(c.jsxs)("div",{children:[Object(c.jsxs)("div",{className:"admin-sidebar",children:[Object(c.jsx)("div",{children:"Users"}),Object(c.jsx)("div",{onClick:function(){return g("/settings/drivers")},children:"Drivers"}),Object(c.jsx)("div",{onClick:function(){return g("/settings/vehicles")},children:"Vehicles"}),Object(c.jsx)("div",{onClick:function(){return g("/settings/journeys")},children:"Journeys"})]}),Object(c.jsx)("div",{className:"admin-form",children:Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{className:"heading",children:"New Journey"}),Object(c.jsx)("form",{onSubmit:function(t){t.preventDefault(),b.a.post("".concat(B,"/journeys"),i).then((function(t){t.data.success&&e.history.push("/settings/journeys")})).catch(console.error)},children:Object(c.jsxs)("div",{className:"form-wrapper",children:[Object(c.jsx)("div",{className:"form-group",children:Object(c.jsx)("label",{children:Object(c.jsx)("input",{type:"text",placeholder:"Origin Address",style:{marginBottom:"30px"},value:"Add a journey to vehicle ".concat(o.code," / ").concat(o.plateNumber),disabled:!0})})}),Object(c.jsx)("div",{className:"form-group",children:Object(c.jsx)(T.a,{onChange:p,value:x})}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsxs)("label",{children:[Object(c.jsx)("p",{children:"Origin Address:"}),Object(c.jsx)("input",{name:"code",type:"text",placeholder:"Origin Address",onChange:v,required:!0})]}),Object(c.jsxs)("label",{children:[Object(c.jsx)("p",{children:"Destination Address:"}),Object(c.jsx)("input",{name:"plateNumber",type:"text",placeholder:"Destination Address",onChange:v,required:!0})]})]}),Object(c.jsx)("div",{className:"form-group",children:Object(c.jsxs)("label",{children:[Object(c.jsx)("p",{children:"Instruction:"}),Object(c.jsx)("textarea",{name:"code",type:"text",placeholder:"Instructions for the driver",onChange:v,required:!0})]})})]})})]})})]})})]})},W=function(e){var t=JSON.parse(sessionStorage.getItem("token"));b.a.defaults.headers.common.Authorization="Bearer ".concat(t);var s=function(){var e=sessionStorage.getItem("user");return e||!1},n=function(){var e=sessionStorage.getItem("user");return!(!e||"admin"!==JSON.parse(e).userType)&&e};return Object(c.jsxs)(j.a,{children:[Object(c.jsx)(o.b,{exact:!0,path:"/login",render:function(e){return s()?Object(c.jsx)(o.a,{to:"/maps"}):Object(c.jsx)(h,Object(l.a)({},e))}}),Object(c.jsx)(o.b,{exact:!0,path:"/maps",render:function(e){return s()?Object(c.jsx)(S,Object(l.a)({},e)):Object(c.jsx)(o.a,{to:"/login"})}}),Object(c.jsx)(o.b,{exact:!0,path:"/settings",render:function(e){return n()?Object(c.jsx)(D,Object(l.a)({},e)):s()?Object(c.jsx)(o.a,{to:"/maps"}):Object(c.jsx)(o.a,{to:"/login"})}}),Object(c.jsx)(o.b,{exact:!0,path:"/settings/drivers",render:function(e){return n()?Object(c.jsx)(M,Object(l.a)({},e)):s()?Object(c.jsx)(o.a,{to:"/maps"}):Object(c.jsx)(o.a,{to:"/login"})}}),Object(c.jsx)(o.b,{exact:!0,path:"/settings/drivers/new",render:function(e){return n()?Object(c.jsx)(U,Object(l.a)({},e)):s()?Object(c.jsx)(o.a,{to:"/maps"}):Object(c.jsx)(o.a,{to:"/login"})}}),Object(c.jsx)(o.b,{exact:!0,path:"/settings/drivers/:id/edit",render:function(e){return n()?Object(c.jsx)(E,Object(l.a)({},e)):s()?Object(c.jsx)(o.a,{to:"/maps"}):Object(c.jsx)(o.a,{to:"/login"})}}),Object(c.jsx)(o.b,{exact:!0,path:"/settings/vehicles",render:function(e){return n()?Object(c.jsx)(J,Object(l.a)({},e)):s()?Object(c.jsx)(o.a,{to:"/maps"}):Object(c.jsx)(o.a,{to:"/login"})}}),Object(c.jsx)(o.b,{exact:!0,path:"/settings/vehicles/new",render:function(e){return n()?Object(c.jsx)(V,Object(l.a)({},e)):s()?Object(c.jsx)(o.a,{to:"/maps"}):Object(c.jsx)(o.a,{to:"/login"})}}),Object(c.jsx)(o.b,{exact:!0,path:"/settings/vehicles/:id/edit",render:function(e){return n()?Object(c.jsx)(L,Object(l.a)({},e)):s()?Object(c.jsx)(o.a,{to:"/maps"}):Object(c.jsx)(o.a,{to:"/login"})}}),Object(c.jsx)(o.b,{exact:!0,path:"/settings/journeys",render:function(e){return n()?Object(c.jsx)(P,Object(l.a)({},e)):s()?Object(c.jsx)(o.a,{to:"/maps"}):Object(c.jsx)(o.a,{to:"/login"})}}),Object(c.jsx)(o.b,{exact:!0,path:"/settings/journeys/vehicle/:id/new",render:function(e){return n()?Object(c.jsx)(z,Object(l.a)({},e)):s()?Object(c.jsx)(o.a,{to:"/maps"}):Object(c.jsx)(o.a,{to:"/login"})}})]})},_=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,124)).then((function(t){var s=t.getCLS,c=t.getFID,n=t.getFCP,i=t.getLCP,r=t.getTTFB;s(e),c(e),n(e),i(e),r(e)}))};a.a.render(Object(c.jsx)(i.a.StrictMode,{children:Object(c.jsx)(W,{})}),document.getElementById("root")),_()},46:function(e,t,s){},59:function(e,t,s){}},[[117,1,2]]]);
//# sourceMappingURL=main.02bb617b.chunk.js.map