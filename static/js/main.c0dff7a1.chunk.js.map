{"version":3,"sources":["components/Login.js","components/NavBar.js","components/map/TerraMap.js","components/settings/Settings.js","components/settings/drivers/Drivers.js","components/settings/drivers/NewDriver.js","components/settings/drivers/UpdateDriver.js","components/settings/vehicles/Vehicles.js","components/settings/vehicles/NewVehicle.js","components/settings/vehicles/UpdateVehicle.js","components/settings/journeys/Journeys.js","components/settings/journeys/NewJourney.js","components/settings/journeys/ScheduleJourney.js","Terra.js","reportWebVitals.js","index.js"],"names":["Login","props","useState","email","setEmail","password","setPassword","className","onSubmit","ev","preventDefault","axios","post","then","res","data","success","sessionStorage","setItem","JSON","stringify","token","user","defaults","headers","common","history","push","catch","console","error","type","name","onChange","e","target","value","required","NavBar","parse","getItem","showDropdown","setShowDropdown","showMenu","setShowMenu","showJourney","setShowJourney","monitorJourney","state","checked","journey","id","onMapMenu","onClick","userType","driverJourneys","map","j","idx","vehicle","code","_id","startJourney","status","journeys","simulateJourneys","onMouseEnter","onMouseLeave","firstName","lastName","handleUrlRoute","removeItem","undefined","require","BASE_URL","bounds","routes","simulationData","socket","socketIOClient","TerraMap","setMap","setJourneys","setDriverJourneys","useEffect","get","timer","ms","Promise","setTimeout","animatePolyLine","coordinates","L","motion","polyline","color","auto","duration","removeOnEnd","showMarker","addTo","a","journeyId","waypoints","getRouteCoords","showRoute","Object","values","i","length","coords","emit","plotRoute","find","originGeoCode","lat","lng","destinationGeoCode","fitBounds","leafletElement","Routing","control","router","mapbox","containerClassName","on","route","removeRoute","off","remove","keys","callbacks","url","MapContainer","center","zoomControl","zoom","scrollWheelZoom","whenCreated","TileLayer","attribution","ZoomControl","position","Settings","showMapMenu","Driver","drivers","setDrivers","driver","mobileNumber","licenseNumber","setDriver","handleChange","placeholder","UpdateDriver","match","params","put","style","backgroundImage","photoUrl","backgroundSize","licenseExpiry","split","Vehicle","vehicles","setVehicles","plateNumber","class","locationAddress","weight","volume","setVehicle","vehicleClass","vaue","UpdateVehicle","homeAddress","Journeys","addJourney","setAddJourney","selectedVehicle","setSelectedVehicle","mapVehicleProps","imageUrl","vehicleId","disabled","origin","destination","Date","startDate","toLocaleString","endDate","instruction","NewJourney","setJourney","setStartDate","setEndDate","marginBottom","log","Terra","getCurrentUser","isAdmin","exact","path","to","render","Drivers","NewDriver","Vehicles","NewVehicle","ScheduleJourney","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c0dff7a1.chunk.js","sourcesContent":["import React, { useState } from 'react'\nimport axios from 'axios'\n\nconst BASE_URL = 'https://terragrid.herokuapp.com'\n\nconst Login = props => {\n\n  const [email, setEmail] = useState('')\n  const [password, setPassword] = useState('')\n\n  const handleSubmit = ev => {\n    ev.preventDefault()\n\n    axios.post(`${BASE_URL}/login`, {email, password})\n    .then( res => {\n      if(res.data.success){\n        sessionStorage.setItem('token', JSON.stringify(res.data.token))\n        sessionStorage.setItem('user', JSON.stringify(res.data.user))\n        axios.defaults.headers.common['Authorization'] = `Bearer ${res.data.token}`\n        props.history.push('/maps')\n      }\n    })\n    .catch(console.error)\n  }\n\n  return(\n    <div  className=\"login-wrapper\">\n      <h2>TERRAGRID NETWORKS</h2>\n      <div>\n        <h3>Log into your account</h3>\n        <form onSubmit={handleSubmit}>\n          <input type=\"email\" name=\"email\" onChange={(e) => setEmail(e.target.value)} required />\n          <input type=\"password\" name=\"password\" onChange={(e) => setPassword(e.target.value)} required />\n          <button>Login</button>\n        </form>\n      </div>\n    </div>\n  )\n}\n\nexport default Login\n","import React, { useState } from 'react'\nimport axios from 'axios'\nimport '../Terra.css'\n\nconst NavBar = props => {\n  const user = JSON.parse(sessionStorage.getItem('user'))\n  const [showDropdown, setShowDropdown] = useState(false)\n  const [showMenu, setShowMenu] = useState(false)\n  const [showJourney, setShowJourney] = useState({})\n\n  const handleLogout = () => {\n    sessionStorage.removeItem('token')\n    sessionStorage.removeItem('user')\n    axios.defaults.headers.common['Authorization'] = undefined\n\n    props.history.push('/login');\n  }\n\n  const monitorJourney = ev => {\n    const state = ev.target.checked === true ? true : false\n\n    setShowJourney(journey => ({\n      ...journey, [ev.target.id]: state\n    }))\n\n    props.monitorJourney(ev)\n  }\n\n  return(\n    <div className=\"navbar\">\n      {\n        props.onMapMenu ?\n        <div className=\"menu collapsed\">\n          <span onClick={() => setShowMenu(!showMenu)}>MENU</span>\n          {\n            !showMenu ? null :\n            user.userType === 'driver' ?\n            <div className=\"menu-items\">\n              {\n                props.driverJourneys.map( (j, idx) =>\n                  <div key={idx} className=\"item\">\n                    <div className=\"first\">\n                      <span>{j.vehicle.code}</span>\n                      <button name='driver' id={j._id} className=\"start-button\" onClick={props.startJourney}\n                      >\n                        Start Journey\n                      </button>\n                    </div>\n                    <div className=\"second\">\n                      <span>{j.status}</span>\n                      <span>OR</span>\n                      <span>DT</span>\n                    </div>\n                  </div>\n                )\n              }\n            </div> :\n            <div className=\"menu-items\">\n            {\n              props.journeys.map( (j, idx) =>\n                <div key={idx} className=\"item\">\n                  <div className=\"first\">\n                    <span>{j.vehicle.code}</span>\n                    <input\n                      id={j._id}\n                      type=\"checkbox\"\n                      onClick={monitorJourney}\n                      checked={\n                        showJourney[j._id] ? true : false\n                      }\n                    />\n                  </div>\n                  <div className=\"second\">\n                    <span>{j.status}</span>\n                    <span>OR</span>\n                    <span>DT</span>\n                  </div>\n                </div>\n              )\n            }\n          </div>\n          }\n        </div> : null\n      }\n      <div className=\"settings\">\n        {\n          user.userType !== 'driver' ?\n          <div onClick={props.simulateJourneys}>Simulate</div> : null\n        }\n        <div onMouseEnter={() => setShowDropdown(true)} onMouseLeave={() => setShowDropdown(false)}>\n          <div className=\"profile-image\" >\n            {user.firstName} {user.lastName} O\n          </div>\n          {\n            showDropdown ?\n            <div className=\"dropdown-wrapper\">\n              <div className=\"dropdown\">\n                {\n                  user.userType !== 'admin' ?\n                  null : props.onMapMenu ?\n                  <div onClick={() => props.handleUrlRoute('/settings')}>Settings</div> :\n                  <div onClick={() => props.handleUrlRoute('/maps')}>Maps</div>\n                }\n                <div onClick={handleLogout}>Logout</div>\n              </div>\n            </div> : null\n          }\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default NavBar\n","import React, { useState, useEffect } from 'react'\nimport axios from 'axios'\nimport socketIOClient from 'socket.io-client'\nimport NavBar from '../NavBar'\nimport Routing from './Routing'\nimport L from 'leaflet'\nimport { MapContainer, TileLayer, Popup, ZoomControl } from 'react-leaflet'\nrequire('leaflet.motion/dist/leaflet.motion.min.js')\n\nconst MAPBOX_API_KEY = 'pk.eyJ1Ijoiamt1cHMiLCJhIjoiY2tramFsN2EyMDJmNjJwcGVodms0ZDIzeiJ9.g1MbhlX-djVh_CZYt7t-dQ'\n\nconst BASE_URL = 'https://terragrid.herokuapp.com'\nconst bounds = {} //scale&zoom map to show all routes\nconst routes = {} //keep track of visible routes on map\nconst simulationData = {} //keep track for journey simulation\nconst socket = socketIOClient(BASE_URL)\n\n// const geoLocator = () => {\n//   console.log('here');\n//   navigator.geolocation.getCurrentPosition(position => {\n//     console.log(position.coords);\n//   })\n// }\n//\n// setInterval(geoLocator, 8000)\n\nconst TerraMap = props => {\n  const [map, setMap] = useState(null)\n  const [wayPoints, setWayPoints] = useState(null)\n  const [wayPointsId, setWayPointsId] = useState(null)\n  const [journeys, setJourneys] = useState([])\n  const [driverJourneys, setDriverJourneys] = useState([])\n\n  useEffect(() => {\n    const user = JSON.parse(sessionStorage.getItem('user'))\n\n    if(user.userType !== 'driver'){\n      axios.get(`${BASE_URL}/journeys`)\n      .then( res => {\n        setJourneys(res.data)\n      })\n      .catch( console.error )\n\n    } else {\n      axios.get(`${BASE_URL}/journeys/driver/${user._id}`)\n      .then(res => {\n        setDriverJourneys(res.data)\n      })\n      .catch(console.error)\n    }\n  }, [])\n\n  const timer = ms => new Promise(res => setTimeout(res, ms));\n\n  const animatePolyLine = coordinates => {\n    L.motion.polyline(coordinates,\n      {\n        color: \"transparent\"\n      },\n      {\n        auto: true,\n        duration: 1000\n      },\n      {\n        removeOnEnd: true,\n        showMarker: true,\n      }\n    ).addTo(map);\n  }\n\n  const startJourney = async ev => {\n    const journeyId = ev.target.id\n    const waypoints = getRouteCoords(ev)\n    showRoute(waypoints, journeyId)\n\n    await timer(2000)\n    const coordinates = Object.values(simulationData)[0]\n\n    for(let i = 0; i < coordinates.length - 1; i++){\n      const coords = [ coordinates[i], coordinates[i + 1] ]\n\n      animatePolyLine(coords);\n      socket.emit('coords', coords, journeyId)\n\n      await timer(1000)\n    }\n  }\n\n  const monitorJourney = ev => {\n    const journeyId = ev.target.id\n    const callbacks = { [journeyId]: plotRoute }\n\n    if(ev.target.checked === true){\n      const waypoints = getRouteCoords(ev)\n      showRoute(waypoints, journeyId)\n      socket.on('coords', callbacks[journeyId])\n    } else {\n      removeRoute(journeyId)\n    }\n  }\n\n  const plotRoute = async (coords, journeyId) => {\n    const user = JSON.parse(sessionStorage.getItem('user'))\n    if(user.userType !== 'driver' && routes[journeyId]){\n      animatePolyLine(coords);\n      await timer(1000)\n    }\n  }\n\n  const simulateJourneys = () => {\n    const coordinates = Object.values(simulationData)\n\n    if(coordinates.length > 0){\n      for(let i = 0; i < coordinates.length; i++){\n        animatePolyLine(coordinates[i])\n      }\n    }\n  }\n\n  const getRouteCoords = ev => {\n    const journeyId = ev.target.id\n\n    if(ev.target.checked === true || ev.target.name === 'driver'){\n      const data = ev.target.name === 'driver' ?\n        driverJourneys.find(j => j._id === journeyId) :\n        journeys.find(j => j._id === journeyId);\n\n      return [\n        [\n          data.originGeoCode.lat,\n          data.originGeoCode.lng\n        ],\n        [\n          data.destinationGeoCode.lat,\n          data.destinationGeoCode.lng\n        ]\n      ]\n    }\n  }\n\n  const showRoute = (waypoints, journeyId) => {\n    bounds[journeyId] = waypoints\n    map.fitBounds(Object.values(bounds))\n\n    const leafletElement = L.Routing.control({\n      router: L.Routing.mapbox(MAPBOX_API_KEY),\n      waypoints: [\n        waypoints[0],\n        waypoints[1]\n      ],\n      containerClassName: 'itinerary-wrapper'\n    }).addTo(map);\n\n    leafletElement.on('routeselected', ev => {\n      routes[journeyId] = leafletElement\n      simulationData[journeyId] = ev.route.coordinates\n    })\n  }\n\n  const removeRoute = journeyId => {\n    const route = routes[journeyId]\n    delete bounds[journeyId]\n    delete routes[journeyId]\n    delete simulationData[journeyId]\n    socket.off('coords', journeyId)\n    route.remove()\n\n    if(Object.keys(bounds).length > 0){\n      map.fitBounds(Object.values(bounds))\n    }\n  }\n\n  const setSimulationData = (leafletElement, route) => {\n    routes[wayPointsId] = leafletElement\n    simulationData[wayPointsId] = route.coordinates\n  }\n\n  const handleUrlRoute = url => {\n    props.history.push(url)\n  }\n\n  return(\n    <div>\n      <NavBar\n        {...props}\n        journeys={journeys}\n        driverJourneys={driverJourneys}\n        monitorJourney={monitorJourney}\n        onMapMenu={true}\n        handleUrlRoute={handleUrlRoute}\n        simulateJourneys={simulateJourneys}\n        startJourney={startJourney}\n      />\n      <MapContainer center={[-37.840935, 144.946457]} zoomControl={false} zoom={13} scrollWheelZoom={false} whenCreated={setMap}>\n        <TileLayer\n          attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n          url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n        />\n        <ZoomControl position={'bottomright'} />\n      </MapContainer>\n    </div>\n  )\n}\n\nexport default TerraMap\n","import React from 'react'\nimport NavBar from '../NavBar'\n\n\nconst Settings = props => {\n\n  const handleUrlRoute = url => {\n    props.history.push(url)\n  }\n\n  return (\n    <div>\n      <NavBar\n        showMapMenu={false}\n        handleUrlRoute={handleUrlRoute}\n      />\n    <div className=\"settings-wrapper\">\n        <h2>TERRAGRID NETWORKS</h2>\n        <div>\n          <div>Users</div>\n          <div onClick={() => handleUrlRoute('/settings/drivers')}>Drivers</div>\n\n          <div onClick={() => handleUrlRoute('/settings/vehicles')}>Vehicles</div>\n\n          <div onClick={() => handleUrlRoute('/settings/journeys')}>Journeys</div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default Settings\n","import React, {useState, useEffect} from 'react'\nimport axios from 'axios'\nimport NavBar from '../../NavBar'\n\nconst BASE_URL = 'https://terragrid.herokuapp.com'\nconst Driver = props => {\n\n  const [drivers, setDrivers] = useState([])\n\n  useEffect(() => {\n    axios.get(`${BASE_URL}/drivers`)\n    .then(res => {\n      // console.log(res.data);\n      setDrivers(res.data)\n    })\n    .catch(console.error)\n  }, [])\n\n  const handleUrlRoute = url => {\n    props.history.push(url)\n  }\n\n  return(\n    <div>\n      <NavBar\n        {...props}\n        onMapMenu={false}\n        handleUrlRoute={handleUrlRoute}\n      />\n      <div className=\"admin-wrapper\">\n        <div>\n          <div className=\"admin-sidebar\">\n            <div>Users</div>\n            <div onClick={() => handleUrlRoute('/settings/drivers')}>Drivers</div>\n\n            <div onClick={() => handleUrlRoute('/settings/vehicles')}>Vehicles</div>\n\n            <div onClick={() => handleUrlRoute('/settings/journeys')}>Journeys</div>\n          </div>\n          <div className=\"admin-list\">\n            <div>\n              <button\n                onClick={() => handleUrlRoute('/settings/drivers/new')}\n              >\n                Add Driver\n              </button>\n            </div>\n            <div className=\"entity-list\">\n              <ul className=\"heading\">\n                <li></li>\n                <li></li>\n                <li>Full Name</li>\n                <li>Mobile Number</li>\n                <li>Email Address</li>\n                <li>Driver's License</li>\n                <li>Status</li> {\n                  // driving, unassigned\n                }\n                <li>Action</li>\n              </ul>\n              {\n                drivers.map( (driver, idx) =>\n                  <ul key={idx} className=\"entity-row\">\n                    <li>{idx + 1}</li>\n                    <li></li>\n                    <li>{driver.firstName} {driver.lastName}</li>\n                    <li>{driver.mobileNumber}</li>\n                    <li>{driver.email}</li>\n                    <li>{driver.licenseNumber}</li>\n                    <li>{driver.status}</li>\n                    <li>\n                      <span onClick={() => {handleUrlRoute(`/settings/drivers/${driver._id}/edit`)}}>Update</span>\n                      &nbsp;|&nbsp;\n                      <span>Delete</span>\n                    </li>\n                  </ul>\n                )\n              }\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default Driver\n","import React, { useState } from 'react'\nimport axios from 'axios'\nimport NavBar from '../../NavBar'\n\nconst BASE_URL = 'https://terragrid.herokuapp.com'\n\nconst Driver = props => {\n\n  const [driver, setDriver] = useState(null)\n\n  const handleUrlRoute = url => {\n    props.history.push(url)\n  }\n\n  const handleChange = ev => {\n    const name = ev.target.name\n    setDriver(driver => ({\n      ...driver, [name]: ev.target.value\n    }))\n  }\n\n  const handleSubmit = ev => {\n    ev.preventDefault()\n\n    axios.post(`${BASE_URL}/drivers`, driver)\n    .then(res => {\n      if(res.data.success){\n        props.history.push('/settings/drivers')\n      }\n    })\n    .catch(console.error)\n  }\n\n  return(\n    <div>\n      <NavBar\n        {...props}\n        onMapMenu={false}\n        handleUrlRoute={handleUrlRoute}\n      />\n      <div className=\"admin-wrapper\">\n        <div>\n          <div className=\"admin-sidebar\">\n            <div>Users</div>\n            <div onClick={() => handleUrlRoute('/settings/drivers')}>Drivers</div>\n\n            <div onClick={() => handleUrlRoute('/settings/vehicles')}>Vehicles</div>\n\n            <div onClick={() => handleUrlRoute('/settings/journeys')}>Journeys</div>\n          </div>\n          <div className=\"admin-form\">\n            <div>\n              <div className=\"heading\">New Driver</div>\n              <form onSubmit={handleSubmit}>\n                <div className=\"form-wrapper\">\n                <div>\n                  <label className=\"profile-photo\">\n                    <input  type=\"file\" />\n                  </label>\n                </div>\n                <div className=\"form-group\">\n                  <label>\n                    <p>First Name:</p>\n                    <input name=\"firstName\" type=\"text\" placeholder=\"First Name\" onChange={handleChange} required/>\n                  </label>\n                  <label>\n                    <p>Last Name:</p>\n                    <input name=\"lastName\" type=\"text\" placeholder=\"Last Name\" onChange={handleChange} required/>\n                  </label>\n                </div>\n                <div className=\"form-group\">\n                  <label>\n                    <p>Mobile Number:</p>\n                    <input name=\"mobileNumber\" type=\"text\" placeholder=\"Mobile Number\" onChange={handleChange} required/>\n                  </label>\n                  <label>\n                    <p>Email Address:</p>\n                    <input name=\"email\" type=\"email\" placeholder=\"Email Address\" onChange={handleChange} required/>\n                  </label>\n                </div>\n                <div className=\"form-group\">\n                  <label>\n                    <p>Drivers License Number:</p>\n                    <input name=\"licenseNumber\" type=\"text\" placeholder=\"License Number\" onChange={handleChange} required/>\n                  </label>\n                  <label>\n                    <p>License Expiry Date:</p>\n                    <input name=\"licenseExpiry\" type=\"date\" placeholder=\"Expiry Date\" onChange={handleChange} required/>\n                  </label>\n                </div>\n                <div className=\"form-group\">\n                  <label>\n                    <p>Contact Address:</p>\n                    <input type=\"text\" placeholder=\"Contact address\" required/>\n                  </label>\n                </div>\n                <div className=\"button-wrapper\">\n                  <button className=\"form-button\">Save New Driver</button>\n                </div>\n              </div>\n              </form>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default Driver\n","import React, {useState, useEffect} from 'react'\nimport axios from 'axios'\nimport NavBar from '../../NavBar'\n\nconst BASE_URL = 'https://terragrid.herokuapp.com'\nconst CLOUDINARY_URL = 'https://res.cloudinary.com/dxmmpe1wt/image/upload/v1612076361/'\n\nconst UpdateDriver = props => {\n\n  const [driver, setDriver] = useState(null)\n\n  useEffect(() => {\n    axios.get(`${BASE_URL}/drivers/${props.match.params.id}`)\n    .then(res => {\n      setDriver(res.data)\n    })\n    .catch(console.error)\n  },[])\n\n  const handleUrlRoute = url => {\n    props.history.push(url)\n  }\n\n  const handleChange = ev => {\n    const name = ev.target.name\n    setDriver(driver => ({\n      ...driver, [name]: ev.target.value\n    }))\n  }\n\n  const handleSubmit = ev => {\n    ev.preventDefault()\n\n    axios.put(`${BASE_URL}/drivers/${props.match.params.id}`, driver)\n    .then( res => {\n      if(res.data.success){\n        props.history.push('/settings/drivers')\n      }\n    })\n    .catch(console.error)\n  }\n\n  return(\n    <div>\n      <NavBar\n        {...props}\n        onMapMenu={false}\n        handleUrlRoute={handleUrlRoute}\n      />\n      <div className=\"admin-wrapper\">\n        <div>\n          <div className=\"admin-sidebar\">\n            <div>Users</div>\n            <div onClick={() => handleUrlRoute('/settings/drivers')}>Drivers</div>\n\n            <div onClick={() => handleUrlRoute('/settings/vehicles')}>Vehicles</div>\n\n            <div onClick={() => handleUrlRoute('/settings/journeys')}>Journeys</div>\n          </div>\n          <div className=\"admin-form\">\n              {\n              driver !== null ?\n              <div>\n                <div className=\"heading\">Update Driver</div>\n                <form onSubmit={handleSubmit}>\n                  <div className=\"form-wrapper\">\n                    <div>\n                      <label className=\"profile-photo update\" style={{backgroundImage: `url(${CLOUDINARY_URL}/${driver.photoUrl})`, backgroundSize: \"cover\"}}>\n                        <input  type=\"file\" />\n                      </label>\n                    </div>\n                    <div className=\"form-group\">\n                      <label>\n                        <p>First Name:</p>\n                        <input name=\"firstName\" type=\"text\" value={driver.firstName} placeholder=\"First Name\" onChange={handleChange} required/>\n                      </label>\n                      <label>\n                        <p>Last Name:</p>\n                        <input name=\"lastName\" type=\"text\" value={driver.lastName} placeholder=\"Last Name\" onChange={handleChange} required/>\n                      </label>\n                    </div>\n                    <div className=\"form-group\">\n                      <label>\n                        <p>Mobile Number:</p>\n                        <input name=\"mobileNumber\" type=\"text\" value={driver.mobileNumber} placeholder=\"Mobile Number\" onChange={handleChange} required/>\n                      </label>\n                      <label>\n                        <p>Email Address:</p>\n                        <input name=\"email\" type=\"email\" value={driver.email}  placeholder=\"Email Address\" onChange={handleChange} required/>\n                      </label>\n                    </div>\n                    <div className=\"form-group\">\n                      <label>\n                        <p>Drivers License Number:</p>\n                        <input name=\"licenseNumber\" type=\"text\" value={driver.licenseNumber} placeholder=\"License Number\" onChange={handleChange} required/>\n                      </label>\n                      <label>\n                        <p>License Expiry Date:</p>\n                        <input name=\"licenseExpiry\" type=\"date\" value={driver.licenseExpiry.split('T')[0]} placeholder=\"Expiry Date\" onChange={handleChange} required/>\n                      </label>\n                    </div>\n                    <div className=\"form-group\">\n                      <label>\n                        <p>Contact Address:</p>\n                        <input type=\"text\" placeholder=\"Contact address\" required/>\n                      </label>\n                    </div>\n                    <div className=\"button-wrapper\">\n                      <button className=\"form-button\">Update Driver</button>\n                    </div>\n                  </div>\n                </form>\n              </div> : null\n              }\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default UpdateDriver\n","import React, {useState, useEffect} from 'react'\nimport axios from 'axios'\nimport NavBar from '../../NavBar'\n\nconst BASE_URL = 'https://terragrid.herokuapp.com'\n\nconst Vehicle = props => {\n\n  const [vehicles, setVehicles] = useState([])\n\n  useEffect(() => {\n    axios.get(`${BASE_URL}/vehicles`)\n    .then(res => {\n      // console.log(res.data);\n      setVehicles(res.data)\n    })\n    .catch(console.error)\n  }, [])\n\n  const handleUrlRoute = url => {\n    props.history.push(url)\n  }\n\n  return(\n    <div>\n      <NavBar\n        {...props}\n        onMapMenu={false}\n        handleUrlRoute={handleUrlRoute}\n      />\n      <div className=\"admin-wrapper\">\n        <div>\n          <div className=\"admin-sidebar\">\n            <div>Users</div>\n            <div onClick={() => handleUrlRoute('/settings/drivers')}>Drivers</div>\n\n            <div onClick={() => handleUrlRoute('/settings/vehicles')}>Vehicles</div>\n\n            <div onClick={() => handleUrlRoute('/settings/journeys')}>Journeys</div>\n          </div>\n          <div className=\"admin-list\">\n            <div>\n              <button\n                onClick={() => handleUrlRoute('/settings/vehicles/new')}\n              >\n                Add Vehicle\n              </button>\n            </div>\n            <div className=\"entity-list\">\n              <ul className=\"heading\">\n                <li></li>\n                <li></li>\n                <li>ID / Plate Number</li>\n                <li>Class</li>\n                <li>Curent Location</li>\n                <li>Weight  / Volume</li>\n                <li>Status</li>\n                <li>Action</li>\n              </ul>\n              {\n                vehicles.map( (vehicle, idx) =>\n                  <ul key={idx} className=\"entity-row\">\n                    <li>{idx + 1}</li>\n                    <li></li>\n                    <li>{vehicle.code} / {vehicle.plateNumber}</li>\n                    <li>{vehicle.class.split('(')[0]}</li>\n                    <li>{vehicle.locationAddress}</li>\n                    <li>{vehicle.weight} kg / {vehicle.volume} cubic</li>\n                    <li>{vehicle.status}</li>\n                    <li>\n                      <span onClick={() => {handleUrlRoute(`/settings/vehicles/${vehicle._id}/edit`)}}>Update</span>\n                      &nbsp;|&nbsp;\n                      <span>Delete</span>\n                    </li>\n                  </ul>\n                )\n              }\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default Vehicle\n","import React, { useState } from 'react'\nimport axios from 'axios'\nimport NavBar from '../../NavBar'\n\nconst BASE_URL = 'https://terragrid.herokuapp.com'\n\nconst Vehicle = props => {\n\n  const [vehicle, setVehicle] = useState(null)\n  const [vehicleClass] = useState('Class 1')\n\n  const handleUrlRoute = url => {\n    props.history.push(url)\n  }\n\n  const handleChange = ev => {\n    const name = ev.target.name\n    setVehicle(vehicle => ({\n      ...vehicle, [name]: ev.target.value\n    }))\n  }\n\n  const handleSubmit = ev => {\n    ev.preventDefault()\n    if(!vehicle.class) vehicle.class = vehicleClass\n\n    axios.post(`${BASE_URL}/vehicles`, vehicle)\n    .then(res => {\n      if(res.data.success){\n        props.history.push('/settings/vehicles')\n      }\n    })\n    .catch(console.error)\n  }\n\n  return(\n    <div>\n      <NavBar\n        {...props}\n        onMapMenu={false}\n        handleUrlRoute={handleUrlRoute}\n      />\n      <div className=\"admin-wrapper\">\n        <div>\n          <div className=\"admin-sidebar\">\n            <div>Users</div>\n            <div onClick={() => handleUrlRoute('/settings/drivers')}>Drivers</div>\n\n            <div onClick={() => handleUrlRoute('/settings/vehicles')}>Vehicles</div>\n\n            <div onClick={() => handleUrlRoute('/settings/journeys')}>Journeys</div>\n          </div>\n          <div className=\"admin-form\">\n            <div>\n              <div className=\"heading\">New Vehicle</div>\n              <form onSubmit={handleSubmit}>\n                <div className=\"form-wrapper\">\n                <div>\n                  <label className=\"profile-photo\">\n                    <input  type=\"file\" />\n                  </label>\n                </div>\n                <div className=\"form-group\">\n                  <label>\n                    <p>ID Number / Code:</p>\n                    <input name=\"code\" type=\"text\" placeholder=\"Id Number\" onChange={handleChange} required/>\n                  </label>\n                  <label>\n                    <p>Plate Number:</p>\n                    <input name=\"plateNumber\" type=\"text\" placeholder=\"Plate Number\" onChange={handleChange} required/>\n                  </label>\n                </div>\n                <div className=\"form-group\">\n                  <label>\n                    <p>Vechle Class:</p>\n                    <select name=\"class\" onChange={handleChange} required>\n                      <option value=\"Class 1\">Class 1 (Motorcycle)</option>\n                      <option vaue=\"Class 2\">Class 2 (Passenger car)</option>\n                      <option vaue=\"Class 3\">Class 3 (4 tire, single unit)</option>\n                      <option vaue=\"Class 4\">Class 4 (Bus)</option>\n                      <option vaue=\"Class 5\">Class 5 (2 axle, 6 tire, single unit)</option>\n                      <option vaue=\"Class 6\">Class 6 (3 axle, single unit)</option>\n                      <option vaue=\"Class 7\">Class 7 (4 or more axle, single unit)</option>\n                      <option vaue=\"Class 8\">Class 8 (4 or less axle, single trailer)</option>\n                      <option vaue=\"Class 9\">Class 9 (5 axle tractor semitrailer)</option>\n                      <option vaue=\"Class 10\">Class 10 (6 or more axle, single trailer)</option>\n                      <option vaue=\"Class 11\">Class 11 (5 or less axle, multi-trailer )</option>\n                      <option vaue=\"Class 12\">Class 12 (6 axle, multi-trailer)</option>\n                      <option vaue=\"Class 13\">Class 13 (7 or more axle, multi-trailer)</option>\n                    </select>\n                  </label>\n                </div>\n                <div className=\"form-group\">\n                  <label>\n                    <p>Weight (kg)</p>\n                    <input name=\"weight\" type=\"text\" placeholder=\"Weight\" onChange={handleChange} required/>\n                  </label>\n                  <label>\n                    <p>Volume (cubic meter)</p>\n                    <input name=\"volume\" type=\"text\" placeholder=\"Volume\" onChange={handleChange} required/>\n                  </label>\n                </div>\n                <div className=\"form-group\">\n                  <label>\n                    <p>Parking Address:</p>\n                    <input name=\"homeAddress\" type=\"text\" placeholder=\"Enter address\" onChange={handleChange} required/>\n                  </label>\n                </div>\n                <div className=\"button-wrapper\">\n                  <button className=\"form-button\">Save New Vehicle</button>\n                </div>\n              </div>\n              </form>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default Vehicle\n","import React, { useState, useEffect } from 'react'\nimport axios from 'axios'\nimport NavBar from '../../NavBar'\n\nconst BASE_URL = 'https://terragrid.herokuapp.com'\n\nconst UpdateVehicle = props => {\n\n  const [vehicle, setVehicle] = useState(null)\n\n  useEffect(() => {\n    axios.get(`${BASE_URL}/vehicles/${props.match.params.id}`)\n    .then(res => {\n      setVehicle(res.data)\n    })\n    .catch(console.error)\n  },[])\n\n\n  const handleUrlRoute = url => {\n    props.history.push(url)\n  }\n\n  const handleChange = ev => {\n    const name = ev.target.name\n    setVehicle(vehicle => ({\n      ...vehicle, [name]: ev.target.value\n    }))\n  }\n\n  const handleSubmit = ev => {\n    ev.preventDefault()\n\n    axios.put(`${BASE_URL}/vehicles/${props.match.params.id}`, vehicle)\n    .then(res => {\n      if(res.data.success){\n        props.history.push('/settings/vehicles')\n      }\n    })\n    .catch(console.error)\n  }\n\n  return(\n    <div>\n      <NavBar\n        {...props}\n        onMapMenu={false}\n        handleUrlRoute={handleUrlRoute}\n      />\n      <div className=\"admin-wrapper\">\n        <div>\n          <div className=\"admin-sidebar\">\n            <div>Users</div>\n            <div onClick={() => handleUrlRoute('/settings/drivers')}>Drivers</div>\n\n            <div onClick={() => handleUrlRoute('/settings/vehicles')}>Vehicles</div>\n\n            <div onClick={() => handleUrlRoute('/settings/journeys')}>Journeys</div>\n          </div>\n          <div className=\"admin-form\">\n            {\n              vehicle !== null ?\n              <div>\n                <div className=\"heading\">New Vehicle</div>\n                <form onSubmit={handleSubmit}>\n                  <div className=\"form-wrapper\">\n                  <div>\n                    <label className=\"profile-photo update\">\n                      <input  type=\"file\" />\n                    </label>\n                  </div>\n                  <div className=\"form-group\">\n                    <label>\n                      <p>ID Number / Code:</p>\n                      <input name=\"code\" value={vehicle.code} type=\"text\" placeholder=\"Id Number\" onChange={handleChange} required/>\n                    </label>\n                    <label>\n                      <p>Plate Number:</p>\n                      <input name=\"plateNumber\" value={vehicle.plateNumber} type=\"text\" placeholder=\"Plate Number\" onChange={handleChange} required/>\n                    </label>\n                  </div>\n                  <div className=\"form-group\">\n                    <label>\n                      <p>Vechle Class:</p>\n                      <select name=\"class\" value={vehicle.class} onChange={handleChange} required>\n                        <option value=\"Class 1\">Class 1 (Motorcycle)</option>\n                        <option vaue=\"Class 2\">Class 2 (Passenger car)</option>\n                        <option vaue=\"Class 3\">Class 3 (4 tire, single unit)</option>\n                        <option vaue=\"Class 4\">Class 4 (Bus)</option>\n                        <option vaue=\"Class 5\">Class 5 (2 axle, 6 tire, single unit)</option>\n                        <option vaue=\"Class 6\">Class 6 (3 axle, single unit)</option>\n                        <option vaue=\"Class 7\">Class 7 (4 or more axle, single unit)</option>\n                        <option vaue=\"Class 8\">Class 8 (4 or less axle, single trailer)</option>\n                        <option vaue=\"Class 9\">Class 9 (5 axle tractor semitrailer)</option>\n                        <option vaue=\"Class 10\">Class 10 (6 or more axle, single trailer)</option>\n                        <option vaue=\"Class 11\">Class 11 (5 or less axle, multi-trailer )</option>\n                        <option vaue=\"Class 12\">Class 12 (6 axle, multi-trailer)</option>\n                        <option vaue=\"Class 13\">Class 13 (7 or more axle, multi-trailer)</option>\n                      </select>\n                    </label>\n                  </div>\n                  <div className=\"form-group\">\n                    <label>\n                      <p>Weight (kg)</p>\n                      <input name=\"weight\" value={vehicle.weight} type=\"text\" placeholder=\"Weight\" onChange={handleChange} required/>\n                    </label>\n                    <label>\n                      <p>Volume (cubic meter)</p>\n                      <input name=\"volume\" value={vehicle.volume} type=\"text\" placeholder=\"Volume\" onChange={handleChange} required/>\n                    </label>\n                  </div>\n                  <div className=\"form-group\">\n                    <label>\n                      <p>Parking Address:</p>\n                      <input name=\"homeAddress\" value={vehicle.homeAddress} type=\"text\" placeholder=\"Enter address\" onChange={handleChange} required/>\n                    </label>\n                  </div>\n                  <div className=\"button-wrapper\">\n                    <button className=\"form-button\">Update Vehicle</button>\n                  </div>\n                </div>\n                </form>\n              </div> : null\n            }\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default UpdateVehicle\n","import React, { useState, useEffect } from 'react'\nimport axios from 'axios'\nimport NavBar from '../../NavBar'\n\nconst BASE_URL = 'https://terragrid.herokuapp.com'\n\nconst Journeys = props => {\n\n  const [vehicles, setVehicles] = useState([])\n  const [journeys, setJourneys] = useState([])\n  const [addJourney, setAddJourney] = useState(false)\n  const [selectedVehicle, setSelectedVehicle] = useState('')\n\n  useEffect(() => {\n    axios.get(`${BASE_URL}/vehicles`)\n    .then(res => {\n      const mapVehicleProps = res.data.map( vehicle => {\n        return {\n          id: vehicle._id,\n          code: vehicle.code,\n          plateNumber: vehicle.plateNumber,\n          imageUrl: vehicle.imageUrl\n        }\n      })\n\n      setVehicles(mapVehicleProps)\n    })\n    .catch(console.error)\n  }, [])\n\n  const getJourneys = ev => {\n    const vehicleId = ev.target.value\n\n    if(vehicleId !== \"none\"){\n      axios.get(`${BASE_URL}/journeys/vehicle/${vehicleId}`)\n      .then( res => {\n        setJourneys(res.data)\n        setAddJourney(true)\n        setSelectedVehicle(vehicleId)\n      })\n      .catch(console.error)\n    } else {\n      setJourneys([])\n      setAddJourney(false)\n      setSelectedVehicle('')\n    }\n  }\n\n  const handleUrlRoute = url => {\n    props.history.push(url)\n  }\n\n  return(\n    <div>\n      <NavBar\n        {...props}\n        onMapMenu={false}\n        handleUrlRoute={handleUrlRoute}\n      />\n      <div className=\"admin-wrapper\">\n        <div>\n          <div className=\"admin-sidebar\">\n            <div>Users</div>\n            <div onClick={() => handleUrlRoute('/settings/drivers')}>Drivers</div>\n\n            <div onClick={() => handleUrlRoute('/settings/vehicles')}>Vehicles</div>\n\n            <div onClick={() => handleUrlRoute('/settings/journeys')}>Journeys</div>\n          </div>\n          <div className=\"admin-list\">\n            <div>\n              <select onChange={getJourneys} className=\"standard\">\n                <option value=\"none\">Select a vehicle</option>\n                {\n                  vehicles.map( (vehicle, idx) =>\n                    <option key={idx} value={vehicle.id}>\n                      {vehicle.code} / {vehicle.plateNumber}\n                    </option>\n                  )\n                }\n              </select>\n              <button\n                onClick={() => handleUrlRoute(`/settings/journeys/vehicle/${selectedVehicle}/new`)}\n                disabled={ !addJourney }\n                >\n                Add a Journey\n              </button>\n            </div>\n            <div className=\"entity-list\">\n              <ul className=\"heading\">\n                <li></li>\n                <li>Origin</li>\n                <li>Destination</li>\n                <li>Duration</li>\n                <li>Instruction</li>\n                <li>Driver Assigned</li>\n                <li>Status</li>\n                <li>Action</li>\n              </ul>\n              {\n                journeys.map( (journey, idx) =>\n                  <ul key={idx} className=\"entity-row\">\n                    <li>{idx + 1}</li>\n                    <li>{journey.origin}</li>\n                    <li>{journey.destination}</li>\n                    <li>\n                      <strong>from:</strong> {new Date(journey.startDate).toLocaleString()}\n                      <br/><br/>\n                      <strong>to:</strong> {new Date(journey.endDate).toLocaleString()}\n                    </li>\n                    <li>{journey.instruction}</li>\n                    <li>\n                      {\n                        journey.driver ?\n                        <div>\n                          <span>\n                            {journey.driver.firstName}\n                          </span>\n                          <span>\n                            {journey.driver.lastName}\n                          </span>\n                        </div> : 'None assigned'\n                      }\n                    </li>\n                    <li>{journey.status}</li>\n                    <li>\n                      {\n                        journey.status === 'scheduled' ?\n                        <span>cancel</span> :\n                        <span onClick={() => handleUrlRoute(`/settings/journeys/driver/${journey._id}/schedule`)}>schedule</span>\n                      }\n                      &nbsp;|&nbsp;\n                      <span>update</span>\n                    </li>\n                  </ul>\n                )\n              }\n            </div>\n\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default Journeys\n","import React, { useState, useEffect } from 'react'\nimport axios from 'axios'\nimport DateTimePicker from 'react-datetime-picker'\nimport NavBar from '../../NavBar'\n\nconst BASE_URL = 'https://terragrid.herokuapp.com'\n\nconst NewJourney = props => {\n\n  const [journey, setJourney] = useState(null)\n  const [vehicle, setVehicle] = useState({})\n  const [startDate, setStartDate] = useState(new Date());\n  const [endDate, setEndDate] = useState(new Date());\n\n\n  useEffect(() => {\n    axios.get(`${BASE_URL}/vehicles/${props.match.params.id}`)\n    .then( res => {\n      setVehicle(res.data)\n    })\n    .catch(console.error)\n  }, [])\n\n  const handleChange = ev => {\n    const name = ev.target.name\n    setJourney(journey => ({\n      ...journey, [name]: ev.target.value\n    }))\n  }\n\n  const handleSubmit = ev => {\n    ev.preventDefault()\n\n    journey.startDate = startDate\n    journey.endDate = endDate\n    journey.vehicle = props.match.params.id\n\n    axios.post(`${BASE_URL}/journeys`, journey)\n    .then(res => {\n      if(res.data.success){\n        props.history.push('/settings/journeys')\n      }\n    })\n    .catch(console.error)\n  }\n\n  const handleUrlRoute = url => {\n    props.history.push(url)\n  }\n\n  return(\n    <div>\n      <NavBar\n        {...props}\n        onMapMenu={false}\n        handleUrlRoute={handleUrlRoute}\n      />\n      <div className=\"admin-wrapper\">\n        <div>\n          <div className=\"admin-sidebar\">\n            <div>Users</div>\n            <div onClick={() => handleUrlRoute('/settings/drivers')}>Drivers</div>\n\n            <div onClick={() => handleUrlRoute('/settings/vehicles')}>Vehicles</div>\n\n            <div onClick={() => handleUrlRoute('/settings/journeys')}>Journeys</div>\n          </div>\n          <div className=\"admin-form\">\n            <div>\n              <div className=\"heading\">New Journey</div>\n              <form onSubmit={handleSubmit}>\n                <div className=\"form-wrapper\">\n                  <div className=\"form-group\">\n                    <label>\n                      <input\n                        type=\"text\"\n                        placeholder=\"Origin Address\"\n                        style={{marginBottom: \"30px\"}}\n                        value={`Add a journey to vehicle ${vehicle.code} / ${vehicle.plateNumber}`}\n                        disabled\n                      />\n                    </label>\n                  </div>\n                  <div className=\"form-group\">\n                    <label>\n                      <p>Start Date:</p>\n                      <DateTimePicker\n                        onChange={setStartDate}\n                        value={startDate}\n                      />\n                    </label>\n                    <label>\n                      <p>End Date:</p>\n                      <DateTimePicker\n                        onChange={setEndDate}\n                        value={endDate}\n                      />\n                    </label>\n                  </div>\n                  <div className=\"form-group\">\n                    <label>\n                      <p>Origin Address:</p>\n                      <input name=\"origin\" type=\"text\" placeholder=\"Origin Address\" onChange={handleChange} required/>\n                    </label>\n                    <label>\n                      <p>Destination Address:</p>\n                      <input name=\"destination\" type=\"text\" placeholder=\"Destination Address\" onChange={handleChange} required/>\n                    </label>\n                  </div>\n                  <div className=\"form-group\">\n                    <label>\n                      <p>Instruction:</p>\n                      <textarea name=\"instruction\" type=\"text\" placeholder=\"Instructions for the driver\" onChange={handleChange} required></textarea>\n                    </label>\n                  </div>\n                  <div className=\"button-wrapper\">\n                    <button className=\"form-button\">Save New Journey</button>\n                  </div>\n                </div>\n              </form>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default NewJourney\n","import React, { useState, useEffect } from 'react'\nimport axios from 'axios'\nimport DateTimePicker from 'react-datetime-picker'\nimport NavBar from '../../NavBar'\n\nconst BASE_URL = 'https://terragrid.herokuapp.com'\n\nconst NewJourney = props => {\n\n  const [drivers, setDrivers] = useState([])\n  const [driver, setDriver] = useState('')\n\n  useEffect(() => {\n    axios.get(`${BASE_URL}/drivers`)\n    .then( res => {\n      setDrivers(res.data)\n    })\n    .catch(console.error)\n  }, [])\n\n  const handleChange = ev => {\n    console.log(ev.target.value);\n    setDriver(ev.target.value)\n  }\n\n  const handleSubmit =  ev => {\n    ev.preventDefault()\n\n    const journeyId = props.match.params.id\n    axios.put(`${BASE_URL}/journeys/${journeyId}`, {driver: driver, status: 'scheduled'})\n    .then(res => {\n      if(res.data.success){\n        props.history.push('/settings/journeys')\n      }\n    })\n    .catch(console.error)\n  }\n\n  const handleUrlRoute = url => {\n    props.history.push(url)\n  }\n\n  return(\n    <div>\n      <NavBar\n        {...props}\n        onMapMenu={false}\n        handleUrlRoute={handleUrlRoute}\n      />\n      <div className=\"admin-wrapper\">\n        <div>\n          <div className=\"admin-sidebar\">\n            <div>Users</div>\n            <div onClick={() => handleUrlRoute('/settings/drivers')}>Drivers</div>\n\n            <div onClick={() => handleUrlRoute('/settings/vehicles')}>Vehicles</div>\n\n            <div onClick={() => handleUrlRoute('/settings/journeys')}>Journeys</div>\n          </div>\n          <div className=\"admin-form\">\n            <div>\n              <div className=\"heading\">New Journey</div>\n              <form onSubmit={handleSubmit}>\n                <div className=\"form-wrapper\">\n                  <div className=\"form-group\">\n                    <label>\n                      <input\n                        type=\"text\"\n                        placeholder=\"Origin Address\"\n                        style={{marginBottom: \"30px\"}}\n                        value={'Schedule a journey for the vehicle'}\n                        disabled\n                      />\n                    </label>\n                  </div>\n                  <div className=\"form=group\">\n                    <select onChange={handleChange} >\n                      <option value=\"none\">Select a Driver</option>\n                      {\n                        drivers.map( (driver, idx) =>\n                          <option key={idx} value={driver._id}>\n                            {driver.firstName} {driver.lastName}\n                          </option>\n                        )\n                      }\n                    </select>\n                  </div>\n                  <div className=\"button-wrapper\">\n                    <button className=\"form-button\">Schedule Journey</button>\n                  </div>\n                </div>\n              </form>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default NewJourney\n","import React, {useState, useEffect} from 'react'\nimport { Route, Redirect, HashRouter as Router } from 'react-router-dom'\nimport axios from 'axios'\n\nimport Login from './components/Login'\nimport TerraMap from './components/map/TerraMap'\nimport Settings from './components/settings/Settings'\n\nimport Drivers from './components/settings/drivers/Drivers'\nimport NewDriver from './components/settings/drivers/NewDriver'\nimport UpdateDriver from './components/settings/drivers/UpdateDriver'\n\nimport Vehicles from './components/settings/vehicles/Vehicles'\nimport NewVehicle from './components/settings/vehicles/NewVehicle'\nimport UpdateVehicle from './components/settings/vehicles/UpdateVehicle'\n\nimport Journeys from './components/settings/journeys/Journeys'\nimport NewJourney from './components/settings/journeys/NewJourney'\nimport ScheduleJourney from './components/settings/journeys/ScheduleJourney'\n\nimport './Terra.css';\n\nconst Terra = props => {\n  const token = JSON.parse(sessionStorage.getItem('token'))\n  axios.defaults.headers.common['Authorization'] = `Bearer ${token}`\n\n  const getCurrentUser = () => {\n    const user = sessionStorage.getItem('user')\n    return user ? user : false\n  }\n\n  const isAdmin= () => {\n    const user = sessionStorage.getItem('user')\n    return user && JSON.parse(user).userType === 'admin' ? user : false\n  }\n\n  return (\n    <Router>\n      <Route exact path='/'>\n        <Redirect to='/login' />\n      </Route>\n\n      <Route exact path='/login'render={props => (\n        getCurrentUser() ?\n        <Redirect to='/maps' /> :\n        <Login {...props} />\n      )}/>\n\n      <Route exact path='/maps'render={props => (\n        getCurrentUser() ?\n        <TerraMap {...props} /> :\n        <Redirect to='/login' />\n      )}/>\n\n      <Route exact path='/settings'render={props => (\n        isAdmin() ? <Settings {...props} /> :\n        getCurrentUser() ? <Redirect to='/maps' /> :\n        <Redirect to='/login' />\n      )}/>\n\n      <Route exact path='/settings/drivers'render={props => (\n        isAdmin() ? <Drivers {...props} /> :\n        getCurrentUser() ? <Redirect to='/maps' /> :\n        <Redirect to='/login' />\n      )}/>\n\n      <Route exact path='/settings/drivers/new'render={props => (\n        isAdmin() ? <NewDriver {...props} /> :\n        getCurrentUser() ? <Redirect to='/maps' /> :\n        <Redirect to='/login' />\n      )}/>\n\n      <Route exact path='/settings/drivers/:id/edit'render={props => (\n        isAdmin() ? <UpdateDriver {...props} /> :\n        getCurrentUser() ? <Redirect to='/maps' /> :\n        <Redirect to='/login' />\n      )}/>\n\n      <Route exact path='/settings/vehicles'render={props => (\n        isAdmin() ? <Vehicles {...props} /> :\n        getCurrentUser() ? <Redirect to='/maps' /> :\n        <Redirect to='/login' />\n      )}/>\n\n      <Route exact path='/settings/vehicles/new'render={props => (\n        isAdmin() ? <NewVehicle {...props} /> :\n        getCurrentUser() ? <Redirect to='/maps' /> :\n        <Redirect to='/login' />\n      )}/>\n\n      <Route exact path='/settings/vehicles/:id/edit'render={props => (\n        isAdmin() ? <UpdateVehicle {...props} /> :\n        getCurrentUser() ? <Redirect to='/maps' /> :\n        <Redirect to='/login' />\n      )}/>\n\n\n      <Route exact path='/settings/journeys' render={props => (\n        isAdmin() ? <Journeys {...props} /> :\n        getCurrentUser() ? <Redirect to='/maps' /> :\n        <Redirect to='/login' />\n      )}/>\n\n      <Route exact path='/settings/journeys/vehicle/:id/new' render={props => (\n        isAdmin() ? <NewJourney {...props} /> :\n        getCurrentUser() ? <Redirect to='/maps' /> :\n        <Redirect to='/login' />\n      )}/>\n\n    <Route exact path='/settings/journeys/driver/:id/schedule' render={props => (\n        isAdmin() ? <ScheduleJourney {...props} /> :\n        getCurrentUser() ? <Redirect to='/maps' /> :\n        <Redirect to='/login' />\n      )}/>\n\n    </Router>\n  );\n}\n\nexport default Terra;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport Terra from './Terra';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Terra />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}